<!doctype html>
<html>
    <head>
        <script src='//code.jquery.com/jquery-1.7.2.min.js'></script>
        <script src='//localhost:3000/socket.io/socket.io.js'></script>
        <script>
            var socket = io.connect('//localhost:3000');

            socket.on('playing', function(data) {
                $('#nowplaying').html(data.nowplaying);
            });

            socket.on('sources', function(data) {
                $('#sources').val(data.sources.join('\n'));
            });

            function sources() {
                var groups = $('#sources').val().split('\n');
                socket.emit('sources', {sources: groups});
            }

            function next() {
                socket.emit('next');
            }
        </script>
    </head>
    <body>
        <div id='nowplaying'></div>

        <textarea id='sources' rows=12 cols=64>

        </textarea>
        <input type='button' onclick='sources();' value='submit'>

        <a href='#' onclick='next(); return false;' value='next'>next</a>
    </body>
</html>